{
  parserClass="com.simpleplugin.parser.LiveScriptParser"

  extends="com.intellij.extapi.psi.ASTWrapperPsiElement"

  psiClassPrefix="LiveScript"
  psiImplClassSuffix="Impl"
  psiPackage="com.simpleplugin.psi"
  psiImplPackage="com.simpleplugin.psi.impl"

  elementTypeHolderClass="com.simpleplugin.psi.LiveScriptTypes"
  elementTypeClass="com.simpleplugin.psi.LiveScriptElementType"
  tokenTypeClass="com.simpleplugin.psi.LiveScriptTokenType"

  extends(".*Expression$")=Expression
}

file ::= (Statement | COMMENT | NEWLINE)* <<eof>>
private recover_statement ::= !NEWLINE

Statement ::= InterpolatedStringExpression | Expression {recoverWhile="recover_statement"}

BlockStatement ::= INDENT Statement+ DEDENT?

Expression ::= OpExpression
    | LiteralExpression

OpExpression ::= Expression OPERATOR Expression

LiteralExpression ::= RESERVED_LITERAL | IDENTIFIER | NUMBER | StringExpression

StringExpression ::= STRING_START STRING* (IDENTIFIER | STRING)* STRING_END | BACKSTRING | HEREDOC

InterpolatedStringExpression ::= StringExpression file StringExpression


/*
file ::= (Statement | NEWLINE)* <<eof>>

Statement ::= BlockStatement | COMMENT | Expression {recoverWhile="recover_statement"}

BlockStatement ::= BLOCK_START (COMMENT | INDENT Expression | NEWLINE)* BLOCK_END

// On any errors, ignore everything until the next line.
private recover_statement ::= !NEWLINE


*/
/** EXPRESSIONS **//*


Expression ::= ParenExpression
    | OperationExpression
    | LiteralExpression
    | ReferenceExpression

ParenExpression ::= PAREN_L Expression PAREN_R

OperationExpression ::= ReferenceExpression OPERATOR (BlockStatement | Expression)

ReferenceExpression ::= IDENTIFIER

// Anything that is a pure value - strings, numbers, booleans, Nulls ...
LiteralExpression ::= NULL | BOOLEAN | NUMBER | StringExpression

StringExpression ::= STRING_START STRING* (IDENTIFIER | STRING)* STRING_END | BACKSTRING | HEREDOC
*/


